---
import Base from "../layouts/Base.astro";
import Section from "../components/Section.astro";
import TimelineItem from "../components/TimelineItem.astro";
import { site } from "../data/site";

const { research, experience, education, teaching, skills, volunteer } = site.cv;
---

<Base title="CV" description="Curriculum vitae of Mathewe Banda â€” experience, education, and skills.">
  <div class="page-intro">
    <h1>CV</h1>
  </div>

  <Section title="Experience">
    {experience.map((entry) => (
      <TimelineItem entry={entry} />
    ))}
  </Section>

  <Section title="Research">
    {research.map((entry) => (
      <TimelineItem entry={entry} />
    ))}
  </Section>

  <Section title="Education">
    {education.map((entry) => (
      <TimelineItem entry={entry} />
    ))}
  </Section>

  {teaching && teaching.length > 0 && (
    <Section title="Teaching & Mentoring">
      {teaching.map((entry) => (
        <TimelineItem entry={entry} />
      ))}
    </Section>
  )}

  <Section title="Skills">
    {skills.map((group) => (
      <div class="skill-row">
        <span class="skill-row__label">{group.category}: </span>
        <span class="skill-row__items">{group.items.join(", ")}</span>
      </div>
    ))}
  </Section>

  {volunteer && volunteer.length > 0 && (
    <Section title="Volunteer Experience">
      {volunteer.map((entry) => (
        <TimelineItem entry={entry} />
      ))}
    </Section>
  )}
</Base>
