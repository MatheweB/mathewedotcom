---
import { site } from "../data/site";
import ThemeToggle from "./ThemeToggle.astro";

const pathname = Astro.url.pathname;
---

<header class="topnav" transition:persist transition:animate="none">
  <nav class="topnav__inner" aria-label="Main navigation">
    <ul class="topnav__links">
      {site.nav.links.map((link) => (
        <li>
          <a
            href={link.href}
            class:list={["topnav__link", { "topnav__link--active": pathname === link.href || pathname === link.href + "/" }]}
          >{link.label}</a>
        </li>
      ))}
    </ul>
    <ThemeToggle />
  </nav>
</header>
